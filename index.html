<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aoun ‚ù§Ô∏è Sara</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;400;600&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: url("background.jpg") center/cover no-repeat fixed;
    color: white;
    text-align: center;
    overflow-x: hidden;
}

.hidden { display: none; }

/* ================= MAIN CONTAINER STYLE ================= */
.container {
    background: rgba(0,0,0,0.75);
    backdrop-filter: blur(8px);
    padding: 30px;
    margin: 40px auto;
    width: 90%;
    max-width: 750px;
    border-radius: 25px;
    border: 2px solid rgba(255, 100, 140, 0.3);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
}

h1 {
    font-family: 'Pacifico', cursive;
    font-size: clamp(32px, 8vw, 52px);
    margin-top: 20px;
    color: #ff85a1;
}

h2 {
    font-family: 'Pacifico', cursive;
    font-size: clamp(24px, 5vw, 36px);
    margin-bottom: 10px;
}

.gif {
    width: 220px;
    max-width: 70%;
    margin: 20px 0;
    border-radius: 15px;
}

/* ================= BUTTONS ================= */
button {
    background: #ff4d6d;
    border: none;
    padding: 12px 30px;
    border-radius: 50px;
    color: white;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    margin: 10px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(255, 77, 109, 0.3);
}

button:hover {
    background: #ff1f4a;
    transform: translateY(-3px) scale(1.05);
}

#yesBtn {
    background-color: #ff5fa2;
    transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

#noBtn { background-color: #777; }

/* ================= LETTER TEXT ================= */
.letterText {
    font-family: 'Dancing Script', cursive;
    font-size: 22px;
    line-height: 1.6;
    text-align: left;
    padding: 20px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
}

/* ================= GALLERY ================= */
.gallery {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-top: 25px;
}

.gallery img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 12px;
    border: 2px solid rgba(255, 100, 160, 0.5);
    cursor: pointer;
    transition: 0.3s;
}

/* ================= MODAL ================= */
.modal {
    display: none;
    position: fixed;
    z-index: 10000;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.9);
    backdrop-filter: blur(5px);
    justify-content: center;
    align-items: center;
}

.modal-content {
    max-width: 85%;
    max-height: 80vh;
    border: 8px solid white;
    border-radius: 10px;
    box-shadow: 0 0 30px #ff4d6d;
    animation: zoom 0.3s ease-out;
}

@keyframes zoom { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

/* ================= KISS GAME (PC SETTINGS) ================= */
.couple {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 160px;
    margin-top: 40px;
    position: relative;
}

.couple img {
    width: 170px;
    transition: transform 1.2s ease;
}

.kiss-aoun { transform: translateX(90px) rotate(8deg); }
.kiss-sara { transform: translateX(-90px) rotate(-8deg); }

#kissImg {
    position: absolute;
    width: 120px;
    opacity: 0;
    transform: scale(0);
    transition: all 0.5s ease;
    pointer-events: none;
    z-index: 99;
}

.show-kiss {
    opacity: 1;
    transform: scale(1.6);
    animation: popZoom 1.2s ease forwards;
}

@keyframes popZoom {
    0% { opacity: 0; transform: scale(0); }
    30% { opacity: 1; transform: scale(1.8); }
    70% { opacity: 1; transform: scale(1.3); }
    100% { opacity: 0; transform: scale(0.2); }
}

/* ================= MOBILE OVERRIDES (FIXED OVERLAP) ================= */
@media (max-width: 600px) {
    .gallery { grid-template-columns: repeat(2, 1fr); }
    
    .couple { 
        gap: 25px; /* Even tighter for small screens */
    }
    
    .couple img { 
        width: 100px;
    }

    .kiss-aoun { transform: translateX(25px) rotate(8deg); }
    .kiss-sara { transform: translateX(-25px) rotate(-8deg); }

    #kissImg { width: 70px; }
}

/* ================= DECORATIONS ================= */
.heart {
    position: fixed;
    top: -10px;
    width: 35px;
    animation: fall linear forwards;
    pointer-events: none;
    z-index: 9999;
}

@keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity: 0; } }

textarea {
    width: 90%;
    height: 120px;
    border-radius: 15px;
    padding: 15px;
    font-size: 16px;
    border: none;
    margin-bottom: 10px;
}

footer { opacity: 0.7; margin-top: 60px; font-size: 14px; padding-bottom: 20px; }
</style>
</head>

<body>

<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<audio id="kissSound" preload="auto">
    <source src="kiss.mp3" type="audio/mpeg">
</audio>

<div class="modal" id="imageModal" onclick="closeModal()">
    <img class="modal-content" id="modalImg">
</div>

<div class="container" id="questionScreen">
    <h1>Niniiii Jaan ‚ù§Ô∏è</h1>
    <h2>Will you be my Valentine? üíñ</h2>
    <img id="gif" src="angry1.gif" class="gif">
    <div>
        <button id="yesBtn">Yes üíï</button>
        <button id="noBtn">No üò¢</button>
    </div>
    <p id="message"></p>
</div>

<div class="container hidden" id="menuScreen">
    <h1>Aoun ‚ù§Ô∏è Sara</h1>
    <h2>Happy Valentine's Day ü•∞üíò</h2>
    <img src="happy.gif" class="gif">
    <div>
        <button onclick="showLetterPage()">üíå Letter</button>
        <button onclick="showMemoryPage()">üì∏ Memory Lane</button>
        <button onclick="showKissPage()">üíã Kiss Game</button>
        <button onclick="showMsgPage()">üí¨ Message Box</button>
    </div>
    <footer>Made with ‚ù§Ô∏è by Aoun for Sara Jaan</footer>
</div>

<div class="container hidden" id="letterPage">
    <h1>My Letter üíñ</h1>
    <p class="letterText">
        Dear Sara Jaan (meri Nini Baby) ‚ù§Ô∏è<br><br>
        I don‚Äôt even know where to start because you mean everything to me.<br><br>
        You are my safe place, my happiness, and the most beautiful part of my life.
        Every time I talk to you, my whole mood becomes better.<br><br>
        You make my world brighter without even trying.<br><br>
        I know I annoy you sometimes and I act stupid üò≠
        but please know that I love you more than anything.
        I want you forever.<br><br>
        Happy Valentine‚Äôs Day my baby üíïüåπ
    </p>
    <button onclick="goBackToMenu()">‚¨Ö Back</button>
</div>

<div class="container hidden" id="memoryPage">
    <h1>Our Memory Lane üì∏‚ù§Ô∏è</h1>
    <div class="gallery">
        <img src="1.jpeg" onclick="openModal(this.src)">
        <img src="2.jpeg" onclick="openModal(this.src)">
        <img src="3.jpeg" onclick="openModal(this.src)">
        <img src="4.jpeg" onclick="openModal(this.src)">
        <img src="5.jpeg" onclick="openModal(this.src)">
        <img src="6.jpeg" onclick="openModal(this.src)">
        <img src="7.jpeg" onclick="openModal(this.src)">
        <img src="8.jpeg" onclick="openModal(this.src)">
        <img src="9.jpeg" onclick="openModal(this.src)">
        <img src="10.jpeg" onclick="openModal(this.src)">
        <img src="11.jpeg" onclick="openModal(this.src)">
        <img src="12.jpeg" onclick="openModal(this.src)">
        <img src="13.jpeg" onclick="openModal(this.src)">
        <img src="14.jpeg" onclick="openModal(this.src)">
        <img src="15.jpeg" onclick="openModal(this.src)">
        <img src="16.jpeg" onclick="openModal(this.src)">
        <img src="17.jpeg" onclick="openModal(this.src)">
        <img src="18.jpeg" onclick="openModal(this.src)">
        <img src="19.jpeg" onclick="openModal(this.src)">
        <img src="20.jpeg" onclick="openModal(this.src)">
    </div>
    <button onclick="goBackToMenu()">‚¨Ö Back</button>
</div>

<div class="container hidden" id="kissPage">
    <h1>Kiss Time üíã</h1>
    <h2>Click kiss and watch magic üò≠‚ù§Ô∏è</h2>
    <div class="couple">
        <img id="aoun" src="aoun.png">
        <img id="kissImg" src="kiss.png">
        <img id="sara" src="sara.png">
    </div>
    <button onclick="kiss()">KISS üíã</button>
    <button onclick="goBackToMenu()">‚¨Ö Back</button>
</div>

<div class="container hidden" id="msgPage">
    <h1>Leave Me A Message üíå</h1>
    <textarea id="msg" placeholder="Type something cute Sara jaan..."></textarea><br>
    <button onclick="saveMsg()">Save Forever ‚ù§Ô∏è</button>
    <p id="savedMsg"></p>
    <button onclick="goBackToMenu()">‚¨Ö Back</button>
</div>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const message = document.getElementById("message");
const gif = document.getElementById("gif");
const bgMusic = document.getElementById("bgMusic");

let noCount = 0;
let musicStarted = false;

function openModal(src) {
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImg");
    modal.style.display = "flex";
    modalImg.src = src;
}

function closeModal() { document.getElementById("imageModal").style.display = "none"; }

function startMusicAndHearts() {
    if (!musicStarted) {
        bgMusic.volume = 0.35;
        bgMusic.play().catch(()=>{});
        musicStarted = true;
        startHearts();
    }
}

noBtn.onclick = () => {
    startMusicAndHearts();
    noCount++;
    message.innerText = "Nini Baby think again üò≠üíî";
    yesBtn.style.transform = `scale(${1 + noCount * 0.35})`;
    if (noCount === 1) gif.src = "angry1.gif";
    if (noCount === 2) gif.src = "angry2.gif";
    if (noCount === 3) gif.src = "angry3.gif";
    if (noCount >= 3) { noBtn.style.display = "none"; message.innerText = "You only have one option now üòå‚ù§Ô∏è"; }
};

yesBtn.onclick = () => {
    startMusicAndHearts();
    document.getElementById("questionScreen").classList.add("hidden");
    document.getElementById("menuScreen").classList.remove("hidden");
};

function goBackToMenu() { hideAll(); document.getElementById("menuScreen").classList.remove("hidden"); }
function showLetterPage() { hideAll(); document.getElementById("letterPage").classList.remove("hidden"); }
function showMemoryPage() { hideAll(); document.getElementById("memoryPage").classList.remove("hidden"); }
function showKissPage() { hideAll(); document.getElementById("kissPage").classList.remove("hidden"); }
function showMsgPage() { hideAll(); document.getElementById("msgPage").classList.remove("hidden"); }

function hideAll() {
    ["menuScreen", "letterPage", "memoryPage", "kissPage", "msgPage"].forEach(id => {
        const el = document.getElementById(id);
        if(el) el.classList.add("hidden");
    });
}

function saveMsg() {
    const text = document.getElementById("msg").value.trim();
    if(text.length < 1){ document.getElementById("savedMsg").innerText = "Type something first baby üò≠‚ù§Ô∏è"; return; }
    localStorage.setItem("saraMsg", text);
    document.getElementById("savedMsg").innerText = "Saved forever ‚ù§Ô∏èüíç";
}

let kissing = false;
function kiss() {
    if (kissing) return;
    kissing = true;

    const aoun = document.getElementById("aoun");
    const sara = document.getElementById("sara");
    const kissImg = document.getElementById("kissImg");
    
    // THE MOBILE ULTIMATE FIX: Create a clone of the sound every time
    const soundTemplate = document.getElementById("kissSound");
    const newSound = soundTemplate.cloneNode(true);
    newSound.volume = 1.0;
    
    aoun.classList.add("kiss-aoun");
    sara.classList.add("kiss-sara");
    aoun.src = "aoun_kiss.png";
    sara.src = "sara_kiss.png";

    // Play the clone
    newSound.play().catch(e => console.log("Audio play failed:", e));

    burstHearts();

    kissImg.classList.add("show-kiss");
    setTimeout(() => { 
        kissImg.classList.remove("show-kiss"); 
    }, 1300);

    setTimeout(() => {
        aoun.classList.remove("kiss-aoun");
        sara.classList.remove("kiss-sara");
        aoun.src = "aoun.png";
        sara.src = "sara.png";
        kissing = false;
        // Clean up memory
        newSound.remove();
    }, 4000);
}

function startHearts() { setInterval(createHeart, 550); }
function burstHearts() { for (let i = 0; i < 30; i++) createHeart(); }
function createHeart() {
    const heart = document.createElement("img");
    heart.src = "heart.png";
    heart.className = "heart";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.animationDuration = (Math.random() * 2 + 3) + "s";
    heart.style.width = (Math.random() * 20 + 25) + "px";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 6000);
}
</script>
</body>
</html>
